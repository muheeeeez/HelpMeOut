(()=>{console.log("Hi, I have been injected");var e=null,o=document.createElement("script");o.src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js",o.onload=function(){var o=document.createElement("script");o.src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage.js",o.onload=function(){firebase.initializeApp({apiKey:"AIzaSyBT0AnZTGYfu6WDST5v_iul5C2xIkcr74g",authDomain:"helpmeout-bd0f2.firebaseapp.com",projectId:"helpmeout-bd0f2",storageBucket:"helpmeout-bd0f2.appspot.com",messagingSenderId:"274579447622",appId:"1:274579447622:web:0cf23c9e19bf1bb1208f47"}),chrome.runtime.onMessage.addListener(((o,t,a)=>{if("request_recording"===o.action&&(console.log("Requesting recording"),a("processed: ${message.action}"),navigator.mediaDevices.getDisplayMedia({audio:!0,video:{width:999999999,height:999999999}}).then((o=>{!function(o){(e=new MediaRecorder(o)).start(),e.onstop=function(){o.getTracks().forEach((function(e){"live"===e.readyState&&e.stop()}))},e.ondataavailable=function(e){let o=e.data,t=URL.createObjectURL(o),a=document.createElement("a");a.style.display="none",a.href=t,a.target="_blank",a.download="screen-recording.webm",a.download=t+".webm",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t),firebase.storage().ref("folder/myscreenrecord.webm").put(o).then((e=>{console.log("Uploaded to Firebase Storage")})).catch((e=>{console.error("Error uploading to Firebase Storage:",e)}))}}(o)}))),"stopvideo"===o.action){if(console.log("Stopping video"),a("processed: ${message.action}"),!e)return console.log("No recorder");e.stop()}}))},document.head.appendChild(o)},document.head.appendChild(o)})();